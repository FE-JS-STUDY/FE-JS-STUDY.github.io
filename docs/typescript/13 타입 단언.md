# 13 타입 단언

## 13.1 타입 단언이란?

타입스크립트의 타입 추론에 기대지 않고 개발자가 직접 타입을 명시하여 강제하는 것

```typescript
var myName = '세호' as string;
```

as 키워드를 붙이면 타입스크립트가 컴파일 할 때 해당 코드의 타입 검사는 수행하지 않음

```typescript
interface Person {
    name: string;
    age: number;
}

var joo = {};
joo.name = '형주';
joo.age = 31;
```

에러 발생 : `joo`를 선언할 때 빈 객체로 초기화했기 때문에

객체를 선언하는 시점에 속성을 정의하면 에러 발생하지 않음

```typescript
var joo = {
    name: '형주',
    age: 31
}
```

변수 타입을 Person 인터페이스로 정의할 수 있음

```typescript
var joo: Person = {
    name: '형주',
    age: 31
}
```

이미 운영중인 코드라면 타입 단언을 활용할 수 있음

```typescript
var joo = {} as Person;
joo.name = '형주';
joo.age = 31;
```

**장점**

- 타입스크립트 컴파일러가 알기 어려운 타입에 대한 힌트 제공
- 선언한느 시점에 name과 age속성을 모두 정의하지 않고 추후에 추가할 수 있는 유연함



## 13.2 타입 단언 문법

### 13.2.1 타입 단언 대상

숫자, 문자열, 객체 등 원시 값 뿐만 아니라 변수나 함수의 호출 결과에도 사용할 수 있음

```typescript
function getId(id) {
    return id;
}

var myId = getId('josh') as number;
```

`getId()` 함수가 받는 `id`라는 파라미터는 타입을 지정하지 않았기 때문에 기본적으로 `any`타입으로 추론된 상태

타입 단언을 사용하지 않은 `getId('josh')`의 호출 결과는 `any`타입

`as number`로 타입 단언을 하면 호출 결과도 `number`로 추론됨



### 13.2.2 타입 단언 중첩

```typescript
var num = (10 as any) as number;
```

```typescript
var num = 10 as any;   // num은 any로 추론
```

```typescript
var num = (10 as any) as number;    // 다시 number로...
```

타입 단언이 필요한 코드는 아님



### 13.2.3 타입 단언을 사용할 때 주의할 점

**as 키워드는 구문 오른쪽에서만 사용한다**

```typescript
var num as number = 10;  // 에러
var num = 10 as number;  // 올바른 코드이지만
var num: number = 10;    // 단언보다는 타입 표기로 정의해 주는 것이 좋음
```



**호환되지 않는 데이터 타입으로는 단언할 수 없다**

```typescript
var num = 10 as string;  // 에러
```

```typescript
var num: any = 10;
var num: any = 'hi';

var bookName: string = '길벗 타입스크립트';
var bookName: any = '길벗 타입스크립트';
```

```typescript
var num = 10 as string;  // 에러
var num = 10 as any;     // 가능
```

